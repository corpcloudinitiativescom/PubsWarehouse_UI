{% extends 'metrics/base.html' %}

{% import 'assets.html' as assets %}

{% block config_initialize_script %}
    <script>
        var CONFIG = {
            JSON_LD_ID_BASE_URL : '{{ config.JSON_LD_ID_BASE_URL }}'
        };
    </script>
{% endblock %}

{% block main %}
    <h1>Google Analytics Dashboard for Pubs Warehouse</h1>
    <fieldset class="chart-display-select-div">
        <legend>Display as:&nbsp;</legend>
        <div>
            <input id="display-chart" type="radio" name="display-style" value="chart" checked />&nbsp;
            <label for="display-chart">Chart</label>
        </div>
        <div>
            <input id="display-table" type="radio" name="display-style" value="table" />&nbsp;
            <label for="display-table">Table</label>
        </div>
    </fieldset>
    <div class="chart-display">
        <div id="sessions-div" class="metric-div usa-grid">
            <div id="recent-sessions-container" class="recent-div usa-width-one-half"><i class="fas fa-spinner fa-spin fa-5x"></i></div>
            <div id="year-sessions-container" class="year-div usa-width-one-half"><i class="fas fa-spinner fa-spin fa-5x"></i></div>
        </div>
        <div id="users-div" class="metric-div usa-grid">
            <div id="recent-users-container" class="recent-div usa-width-one-half"></div>
            <div id="year-users-container" class="year-div usa-width-one-half"></div>
        </div>
        <div id="pageviews-div" class="metric-div usa-grid">
            <div id="recent-pageviews-container" class="recent-div usa-width-one-half"></div>
            <div id="year-pageviews-container" class="year-div usa-width-one-half"></div>
        </div>
        <div id="downloadevents-div" class="metric-div usa-grid">
            <div id="recent-downloadevents-container" class="recent-div usa-width-one-half"></div>
            <div id="year-downloadevents-container" class="year-div usa-width-one-half"></div>
        </div>
    </div>
    <div class="table-display">
        <div id="sessions-table-div" class="metric-table-div usa-grid">
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="recent-sessions-table"></table>
            </div>
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="year-sessions-table"></table>
            </div>
        </div>
        <div id="users-table-div" class="metric-table-div usa-grid">
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="recent-users-table"></table>
            </div>
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="year-users-table"></table>
            </div>
        </div>
        <div id="pageviews-table-div" class="metric-table-div usa-grid">
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="recent-pageviews-table"></table>
            </div>
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="year-pageviews-table"></table>
            </div>
        </div>
        <div id="downloadevents-table-div" class="metric-table-div usa-grid">
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="recent-downloadevents-table"></table>
            </div>
            <div class="usa-width-one-half">
                <table class="usa-table-borderless metric-table" id="year-downloadevents-table"></table>
            </div>
        </div>
    </div>
{%  endblock %}

{% block page_script %}
    {{ super() }}
    {{ assets.LoadBundle('pubsGraphController.js') }}
{% endblock %}
